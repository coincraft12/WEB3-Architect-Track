# (신규) 5강. 블록체인 최소 정의: “공유 장부”가 아니라 ‘공유 상태 머신(Shared State Machine)’

## 0) 이 강의의 한 문장
**블록체인은 여러 노드가 “같은 상태(State)”를 공유하고, 트랜잭션으로 그 상태를 바꾸며, 합의로 “순서”를 고정하는 공유 상태 머신이다.**  
이 한 문장만 잡히면, 이후의 키/주소/계정/트랜잭션이 “뜬금 기술”이 아니라 “필연 구조”로 연결된다.

---

## 1) 강의 목표
이 강의를 마치면 수강생은:

1. 블록체인을 “코인 기술”이 아니라 **공유 상태 머신**으로 1문장 정의할 수 있다.  
2. “상태(State) / 트랜잭션(Transaction) / 합의(Consensus)”의 관계를 그림 없이 말로 설명할 수 있다.  
3. 왜 ‘분산 신뢰 구조’에서 **키/주소/계정/트랜잭션**이 필연인지 연결할 수 있다.  
4. 기술 디테일(PoW/PoS, 블록 전파, MEV 등)에 빠지지 않고, 구조적 핵심만 전달할 수 있다.

---

## 2) 도입 멘트(2~3분 대본)
> 앞서 4강에서 우리는 “분산 신뢰 구조”를 이야기했습니다.  
> 그리고 키 키갑 소유권 구조, 그리고 트랜잭션의 구조에 대해서도 배웠습니다.
> 이제 중요한 질문이 남아요.  
>  
> “그 분산 신뢰 구조와 키, 트랜잭션이 실제로 무엇을 만들어내는가?”  
>  
> 답은 단순합니다.  
> **모두가 공유하는 하나의 상태(State)** 를 만들고,  
> 그 상태를 바꾸는 요청(트랜잭션)을 받아,  
> 어떤 순서로 인정할지를 합의로 고정합니다.  
>  
> 오늘은 블록체인을 아주 짧게, 그러나 정확하게 정의하고 넘어갑니다.

---

## 3) 블록체인 최소 정의(초급용 4문장)
다음 4문장을 그대로 외워도 된다.

1) 블록체인은 **여러 노드가 공유하는 하나의 상태(State)** 다.  
2) 트랜잭션은 그 상태를 바꾸려는 **서명된 요청**이다.  
3) 합의는 “어떤 트랜잭션을 어떤 순서로 인정할지”를 정해 **단 하나의 기록**을 만든다.  
4) 그래서 블록체인의 본질은 **공유 상태 머신(Shared State Machine)** 이다.

---

## 4) “공유 장부” 표현이 왜 부족한가?
‘장부’라고 말하면 대부분 이렇게 떠올린다:
- 입금/출금 기록표
- 거래 내역 리스트

하지만 실제 블록체인은 그 이상이다.
- 잔액만 있는 게 아니라
- **규칙(컨트랙트)** 과
- **상태(변수, 소유권, 권한, 포지션)** 전체가 포함된다

즉, 블록체인은 “기록장”이 아니라 “현실의 상태를 담는 판”에 가깝다.

**암기 문장**
- “장부는 내역이고, 상태는 현실이다.”

---

## 5) 상태(State)란 무엇인가? (초급형 정의)
상태는 한 문장으로:
- **지금 이 순간 ‘누가 무엇을 얼마나/어떤 조건으로’ 갖고 있는지의 총합**

초급에서 상태를 3종으로만 나누면 충분하다:
1) **잔액 상태**: 누가 ETH/토큰을 얼마나 갖고 있나  
2) **소유권 상태**: NFT/권리/포지션의 소유자가 누구인가  
3) **규칙 상태**: 컨트랙트가 기억하는 변수(예: 예치 총액, 이자율, 관리자 주소)

---

## 6) 트랜잭션(Transaction)은 “기록”이 아니라 “상태 변경 요청”
6강에서 이미 트랜잭션을 “서명된 의사결정”이라고 했지.
여기서는 그 문장을 블록체인과 연결한다.

- 트랜잭션은 “상태를 이렇게 바꿔주세요”라는 요청이고
- 네트워크는 그 요청을 실행해보고(가스/조건/규칙)
- 성공하면 상태를 바꾸고, 실패하면 상태는 안 바뀌지만(또는 제한적으로) 흔적은 남는다(9강)

**암기 문장**
- “트랜잭션은 변화의 요청이고, 블록은 그 변화의 확정 기록이다.”

---

## 7) 합의(Consensus)는 “진실을 하나로 만드는 순서 고정”
분산에서 가장 큰 문제는 이거다:
- 같은 시간에 여러 요청이 들어오면 “누가 먼저냐”가 갈린다

합의가 하는 일:
- **트랜잭션의 순서를 고정**해서
- 모든 노드가 동일한 순서로 실행하게 만들고
- 결과적으로 동일한 상태에 도달하게 한다

초급 결론:
- 합의는 “누가 맞냐”가 아니라 “순서를 정해서 하나로 수렴시키는 규칙”이다.

---

## 8) 블록(Block)과 체인(Chain)을 “구조”로만 이해하기
기술 디테일 없이, 구조만:

- **블록**: 일정 시간 동안 모인 트랜잭션 묶음(= 실행 요청들의 묶음)  
- **체인**: 블록이 시간 순서대로 연결된 것(= 실행 기록이 순서대로 이어진 것)

그래서:
- 체인이 길어진다는 건 “역사가 쌓인다”는 뜻이고
- 더 길고 더 확정되면(최종성) “되돌리기 어려워진다”는 뜻이다

---

## 9) 여기서 바로 이어지는 필연: 왜 키/주소/계정이 필요해지는가?
이제 연결 고리를 한 번에 정리한다.

### 중앙화 시스템
- 중앙 운영자가 계정을 만들고(신분 확인)
- 권한을 관리하고
- 장부/상태를 단독으로 업데이트한다

### 분산 시스템(블록체인)
- 중앙 운영자가 없다  
- 누구의 요청인지 “신분”으로 확인할 수 없다  
- 그래서 “이 행동의 주체는 누구인가?”를 증명하는 방식이 필요하다

→ 그게 **키 기반 소유권(5강/기존 5강 내용)** 이다.  
- 개인키로 서명하면 “내가 이 행동을 승인했다”가 된다  
- 공개키/주소는 “그 주체의 식별자”가 된다  
- 계정은 “신분”이 아니라 “키로 통제되는 상태의 슬롯”이 된다

**암기 문장**
- “중앙화는 신분으로 계정을 만들고, 분산은 키로 계정을 만든다.”

---

## 10) 미니 케이스(5~10분) — 은행 송금 vs 블록체인 송금
### 은행 송금
- 은행이 계정 소유자 확인(신분/인증)
- 은행 DB를 직접 업데이트
- 외부는 내부 장부를 신뢰해야 함

### 블록체인 송금
- 사용자가 키로 서명(통제권 증명)
- 트랜잭션이 네트워크로 전파
- 합의로 순서가 고정되고 상태가 업데이트
- 누구나 같은 결과를 검증 가능

핵심 차이:
- “누가 업데이트하는가”가 바뀐다  
  - 은행: 중앙  
  - 블록체인: 합의된 규칙

---

## 11) 미니 실습(10~15분) — ‘블록체인 4문장 정의’로 설명하기
### 실습 과제
블록체인을 누군가에게 설명한다고 가정하고, 아래 조건으로 5문장을 작성한다.

**조건**
- “코인”, “투자”, “채굴”, “PoW/PoS” 단어 금지  
- 상태/트랜잭션/합의/순서 고정은 반드시 포함  
- 마지막 문장은 “그래서 키/주소가 필요하다”로 연결

**출력 예시 형태**
- 문장1: 상태 정의  
- 문장2: 트랜잭션 정의  
- 문장3: 합의 정의  
- 문장4: 블록/체인 의미  
- 문장5: 키/주소 연결

---

## 12) 강의 마무리(30초 대본)
> 오늘은 블록체인을 기술 설명이 아니라 구조 설명으로 정의했습니다.  
> 블록체인은 공유 상태, 트랜잭션은 상태 변경 요청, 합의는 순서 고정.  
>  
> 이 무대를 깔았기 때문에 이제 키/주소/계정/트랜잭션은  
> “뜬금 기술”이 아니라 “분산 신뢰 구조의 필연”으로 보일 겁니다.  
>  
> 다음 강의부터는 이 무대 위에, 사용되는 핵심 객체 지갑의 개념에 대해 학습해 보도록 하겠습니다.

---

## 13) 퀴즈(10문항)
1) 블록체인을 ‘공유 상태 머신’으로 정의하라.  
2) 상태(State)를 초급 수준에서 설명하라.  
3) 트랜잭션은 무엇인가? “기록”이 아니라 뭐라고 정의해야 하는가?  
4) 합의가 하는 가장 중요한 일 1가지는 무엇인가?  
5) 블록과 체인의 구조적 의미를 말하라.  
6) “공유 장부” 표현이 부족한 이유는?  
7) 중앙화 시스템과 분산 시스템에서 ‘계정 생성 방식’이 어떻게 다른가?  
8) 왜 분산 시스템은 키 기반 구조를 채택할 수밖에 없는가?  
9) 성공/실패 개념이 상태 전이와 어떤 관계가 있는가?  
10) 오늘 강의가 다음 강의(키/주소/계정/트랜잭션)로 연결되는 한 문장을 써라.

---

## 14) (집필 확장용) 이 강의를 책으로 옮기면 이렇게 된다
- 1. 분산 신뢰 구조가 만들어내는 것: 공유 상태  
- 2. 상태/트랜잭션/합의의 삼각형  
- 3. 블록과 체인: 순서가 고정된 실행 기록  
- 4. 장부가 아니라 상태 머신  
- 5. 키/주소/계정이 필연인 이유  
- 6. 은행 vs 블록체인 비교로 직관 만들기
