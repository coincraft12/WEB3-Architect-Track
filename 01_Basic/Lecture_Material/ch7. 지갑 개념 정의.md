# 7강. 지갑 개념 정의: “지갑은 돈통이 아니라 키·정책·행동 인터페이스다”

## 1) 이 강의의 한 문장
**지갑(Wallet)은 자산을 ‘보관’하는 상자가 아니라, 키를 안전하게 관리하고 ‘서명된 행동’을 만들며, 사용자의 정책(권한/한도/보안)을 적용하는 인터페이스다.**  
돈은 지갑 안에 있는 게 아니라 **체인(장부)의 상태(State)** 로 존재한다.

## 2) 강의 목표 (수강생이 끝나고 할 수 있어야 하는 것)
이 강의를 마치면 수강생은:

1. “지갑=자산 보관함”이라는 오해를 깨고, 지갑을 **키/정책/인터페이스**로 정의할 수 있다.  
2. 지갑과 계정의 차이를 구조적으로 설명한다(중앙화 계정 vs 키 기반).  
3. 지갑의 핵심 기능 6가지(키관리, 서명, 네트워크 선택, 수수료, 승인/권한, 복구)를 역할별로 이해한다.  
4. 지갑 유형(수탁형/비수탁형, 소프트웨어/하드웨어)을 위험 모델(권한-책임, 단일 실패점)로 비교할 수 있다.  
5. 다음 강의(주소)로 연결: “주소는 지갑이 아니라 키의 표현이며, 지갑 하나가 여러 주소를 다룰 수 있다”를 이해한다.

## 3) 핵심 정의: 지갑은 3가지의 결합체
지갑 = (Key Manager) + (Policy Engine) + (Action Interface)

### A. Key Manager(키 관리자)
- 개인키/시드의 생성·보관·보호
- 서명 기능의 접근 제어(잠금, 생체인증, PIN 등)

### B. Policy Engine(정책 엔진)
- 어떤 행동을 허용할지, 어떤 위험을 막을지  
- 예: 승인(approve) 경고, 스캠 탐지, 주소 라벨링, 한도, 멀티시그 정책 등

### C. Action Interface(행동 인터페이스)
- 사용자가 “무엇을 할지” 선택하고  
- 트랜잭션(명령)을 구성하고  
- 서명 후 전송하는 UI/UX

**암기 문장**
- 지갑은 “자산 저장소”가 아니라 “행동 생성기”다.

## 4) 가장 중요한 오해 깨기: “지갑에 코인이 들어있다”는 표현의 진짜 의미
사실 관계를 정확히 쓰면:

- 자산은 체인의 상태(state)에 존재한다  
- 주소는 상태를 가리키는 식별자다  
- 지갑은 그 주소의 상태를 바꾸는 서명 권한(키)을 통제한다

그래서 “지갑에 코인이 있다”는 말은 편의상:
- “내 키가 통제하는 주소의 상태에 코인이 있다”를 줄인 표현이다.

## 5) 지갑이 하는 일 6가지(구조 설계자 관점)
### 1) 키 생성/보관/보호(보안의 심장)
- 시드 생성, 백업, 암호화 저장, 잠금
- 단일 실패점(SPOF)을 어떻게 줄이는지(하드웨어/멀티시그/분산복구)

### 2) 트랜잭션 구성(행동 만들기)
- To/Value/Data/Nonce/Gas/ChainId 구성  
- “무엇을 승인하는지”를 사람이 이해할 수 있게 번역

### 3) 서명(Sign)
- 개인키로 승인
- “내가 동의했다”의 기술적 증거 생성

### 4) 네트워크/체인 선택(세계 선택)
- 같은 주소처럼 보여도 체인이 다르면 전혀 다른 세계  
- 지갑은 “어느 세계에서 행동할지”를 고르게 한다

### 5) 수수료/가스 전략(실행 조건 설정)
- 가스는 비용이면서 실행 조건  
- 지갑은 ‘실행 가능성’과 ‘비용’을 절충하게 만든다

### 6) 승인/권한 관리(가장 위험한 UX 지점)
- approve / permit / allowance 등 권한 위임을 관리
- 많은 사고가 “송금”이 아니라 “승인 과부여”에서 터진다

**설계자 포인트**
- 지갑 UX의 품질은 “보안”과 직결된다.  
  사용자가 실수하기 쉬운 구조를 얼마나 줄여주느냐가 지갑의 실력이다.

## 6) 지갑 vs 계정: 구조 비교(중앙화/WEB3)
### 중앙화 계정(은행/거래소 계정)
- 로그인 = 접근 권한 획득
- 복구/정지/환불/분쟁조정 내장
- 대신 기관이 권한을 가진다(동결/차단/규칙변경 가능)

### WEB3 지갑(비수탁형)
- 서명 = 소유권 행사(행동 승인)
- 복구/구제는 제한적(사용자 책임)
- 대신 사용자가 통제한다(기관이 임의로 동결하기 어렵다)

**암기 문장**
- 계정은 “기관이 주는 권한”  
- 지갑은 “내 키로 행사하는 소유권”

## 7) 지갑 유형을 “기능”이 아니라 “위험 모델”로 분류하기
초급에서 중요한 건 브랜드/제품이 아니라 구조다.

### A. 수탁형(Custodial) 지갑
- 키를 서비스가 보관(사용자는 접근 권한만 가짐)
- 장점: 복구/고객지원/단순 UX
- 단점: 동결/차단/규칙변경/해킹(중앙화 리스크)

**구조 요약**
- 편리함 ↑ / 통제권 ↓ / 중앙화 리스크 ↑

### B. 비수탁형(Non-custodial) 지갑
- 키를 사용자가 통제
- 장점: 자기 통제, 검열 저항성(상대적으로)
- 단점: 분실/피싱/승인 실수의 책임이 사용자에게

**구조 요약**
- 통제권 ↑ / 복구 난이도 ↑ / 사용자 책임 ↑

### C. 하드웨어 vs 소프트웨어(키 격리 관점)
- 하드웨어 지갑: 키를 별도 장치에 격리(유출 위험 감소)  
- 소프트웨어 지갑: 편리하지만 단말기 침해에 취약할 수 있음

**핵심**
- 하드웨어는 “키가 인터넷과 멀어지는” 설계다.

## 8) 지갑을 “보안 정책 장치”로 보기(초급에 필요한 최소 보안 프레임)
지갑을 쓸 때 가장 중요한 질문 3개:

1) **키는 어디에 있는가?** (내 폰? 서비스 서버? 하드웨어?)  
2) **서명은 어떤 절차로 승인되는가?** (생체/PIN/2FA/멀티시그?)  
3) **승인(allowance/권한 위임)은 어떻게 관리되는가?** (경고/한도/만료/리뷰?)

이 3개를 잡으면 “지갑 이해”의 절반은 끝난다.

## 용어 보충(Quick Reference)
- 지갑(Wallet): 키 관리 + 서명 + 사용자 인터페이스를 제공하는 도구.
- 수탁형(Custodial): 서비스가 키를 보관해 사용자 대신 통제하는 방식.
- 비수탁형(Non-custodial): 사용자가 직접 키를 보유·통제하는 방식.
- 승인(Approve): 특정 주소에 토큰 사용 권한을 위임하는 행동.
- 복구(Recovery): 시드/백업으로 지갑 통제권을 재구성하는 절차.

## 헷갈리는 개념 보충
- 지갑과 주소는 같은 개념이 아니다.
- 지갑은 키를 관리하고 서명을 만드는 도구, 주소는 상태를 가리키는 좌표다.

